# ç‚¹ç‚¹åœˆ Web ç‰ˆä»£ç å®¡æŸ¥æŠ¥å‘Š

> å®¡æŸ¥æ—¥æœŸ: 2026-02-02
> å®¡æŸ¥æ¨¡å¼: ULTRAWORK MODE
> å®¡æŸ¥èŒƒå›´: dotcircle-web å®Œæ•´é¡¹ç›®

---

## ğŸ”´ ä¸¥é‡é—®é¢˜ï¼ˆå·²ä¿®å¤ï¼‰

### 1. å¯¼å…¥è¯­å¥ä½ç½®é”™è¯¯ [FIXED]
**æ–‡ä»¶**: `app/(main)/helps/page.tsx`  
**é—®é¢˜**: `import { cn } from '@/lib/utils'` è¢«é”™è¯¯åœ°æ”¾åœ¨æ–‡ä»¶æœ«å°¾ï¼ˆç¬¬135è¡Œï¼‰  
**å½±å“**: ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ï¼Œç»„ä»¶æ— æ³•æ­£ç¡®æ¸²æŸ“  
**ä¿®å¤**: å·²å°†å¯¼å…¥ç§»åˆ°æ–‡ä»¶é¡¶éƒ¨ï¼ˆç¬¬12è¡Œï¼‰

---

## ğŸŸ¡ ä¸­ç­‰é—®é¢˜

### 2. ç¼ºå°‘ Next.js é»˜è®¤æ–‡ä»¶
**å»ºè®®æ·»åŠ **:
```
app/
â”œâ”€â”€ error.tsx              # å…¨å±€é”™è¯¯å¤„ç†
â”œâ”€â”€ not-found.tsx          # 404 é¡µé¢
â”œâ”€â”€ loading.tsx            # å…¨å±€åŠ è½½çŠ¶æ€
â”œâ”€â”€ favicon.ico            # ç½‘ç«™å›¾æ ‡
â””â”€â”€ opengraph-image.tsx    # ç¤¾äº¤åˆ†äº«å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰
```

**ä¼˜å…ˆçº§**: ä¸­  
**å½±å“**: ç”¨æˆ·ä½“éªŒã€SEO

### 3. é¡µé¢å¸ƒå±€ç»„ä¸ä¸€è‡´
**é—®é¢˜**: `leaderboard` å’Œ `rules` é¡µé¢ä¸åœ¨ `(main)` ç»„ä¸­ï¼Œä½†åº•éƒ¨å¯¼èˆªæ åœ¨ `(main)/layout.tsx` ä¸­å®šä¹‰

**å½“å‰ç»“æ„**:
```
app/
â”œâ”€â”€ (main)/               # æœ‰ BottomNav
â”‚   â”œâ”€â”€ credit/
â”‚   â”œâ”€â”€ helps/
â”‚   â”œâ”€â”€ packages/
â”‚   â””â”€â”€ settings/
â”œâ”€â”€ leaderboard/          # âŒ æ²¡æœ‰ BottomNav
â”œâ”€â”€ my/                   # âŒ ä¸åœ¨ (main) ä¸­ï¼Œä½†æœ‰ç‹¬ç«‹å¸ƒå±€
â”œâ”€â”€ publish/
â””â”€â”€ rules/                # âŒ æ²¡æœ‰ BottomNav
```

**å»ºè®®**: å°†æ‰€æœ‰éœ€è¦åº•éƒ¨å¯¼èˆªçš„é¡µé¢ç»Ÿä¸€æ”¾å…¥ `(main)` ç»„

### 4. Header ç»„ä»¶ä½¿ç”¨ä¸ä¸€è‡´
**é—®é¢˜**: éƒ¨åˆ†é¡µé¢ä½¿ç”¨å†…è” headerï¼Œéƒ¨åˆ†ä½¿ç”¨ Header ç»„ä»¶

**ä½¿ç”¨ Header ç»„ä»¶çš„é¡µé¢**:
- `app/my/page.tsx` âœ…
- `app/(main)/*` ä¸­çš„é¡µé¢ âŒï¼ˆä½¿ç”¨å†…è” headerï¼‰

**å»ºè®®**: ç»Ÿä¸€ä½¿ç”¨ Header ç»„ä»¶æˆ–ç»Ÿä¸€ä½¿ç”¨å†…è”æ–¹å¼

### 5. ç±»å‹å®šä¹‰ä¸å®Œæ•´
**æ–‡ä»¶**: `types/index.ts`

**é—®é¢˜**: æ•°æ®åº“å­—æ®µä½¿ç”¨ snake_caseï¼Œä½† TypeScript ç±»å‹ä½¿ç”¨ camelCaseï¼Œéœ€è¦æ˜ å°„

**ç¤ºä¾‹**:
```typescript
// æ•°æ®åº“è¿”å›
{ nick_name: "å¼ ä¸‰", credit_score: 60 }

// ç»„ä»¶ä¸­ä½¿ç”¨
user.nickName  // âŒ åº”è¯¥æ˜¯ user.nick_name
```

---

## ğŸŸ¢ è½»å¾®é—®é¢˜

### 6. æœªä½¿ç”¨çš„å¯¼å…¥
**æ–‡ä»¶**: `app/(main)/settings/page.tsx`  
**è¡Œ**: 74-83  
**é—®é¢˜**: `menuItems` ä¸­çš„ `toggle` å±æ€§å®šä¹‰ä½†æœªä½¿ç”¨

### 7. ç¡¬ç¼–ç æ–‡æœ¬
å¤šå¤„ä½¿ç”¨ç¡¬ç¼–ç ä¸­æ–‡æ–‡æœ¬ï¼Œå»ºè®®ï¼š
- è€ƒè™‘æ·»åŠ å›½é™…åŒ–æ”¯æŒï¼ˆi18nï¼‰
- æˆ–æå–åˆ°å¸¸é‡æ–‡ä»¶ä¸­

### 8. æ ·å¼ç±»åæ··åˆ
**é—®é¢˜**: åŒæ—¶ä½¿ç”¨ Tailwind ç±»åå’Œè‡ªå®šä¹‰ CSS ç±»å

**ç¤ºä¾‹**:
```css
/* globals.css */
.gradient-primary { ... }

/* é¡µé¢ä¸­ */
className="gradient-primary"  // è‡ªå®šä¹‰
className="bg-orange-500"      // Tailwind
```

**å»ºè®®**: ç»Ÿä¸€ä½¿ç”¨ Tailwind çš„ arbitrary values: `bg-[#f97316]`

---

## âœ… ä»£ç ä¼˜ç‚¹

### 1. é¡¹ç›®ç»“æ„æ¸…æ™°
- ä½¿ç”¨ Next.js 14 App Router æœ€ä½³å®è·µ
- åˆç†çš„è·¯ç”±ç»„åˆ’åˆ† `(auth)` / `(main)`
- ç»„ä»¶åˆ†ç¦»è‰¯å¥½

### 2. ç±»å‹å®‰å…¨
- ä½¿ç”¨ TypeScript
- å®šä¹‰äº†å®Œæ•´çš„ç±»å‹æ¥å£
- Supabase ç±»å‹ç”Ÿæˆ

### 3. è®¤è¯æµç¨‹å®Œå–„
- ä½¿ç”¨ Supabase Auth
- ä¸­é—´ä»¶ä¿æŠ¤è·¯ç”±
- å®¢æˆ·ç«¯ Hook `useAuth`

### 4. API è®¾è®¡åˆç†
- RESTful API è·¯ç”±
- é”™è¯¯å¤„ç†å®Œå–„
- è‡ªåŠ¨æ›´æ–°ç»Ÿè®¡æ•°æ®

### 5. UI ç»„ä»¶åŒ–
- å¤ç”¨ Button, Card, Badge ç»„ä»¶
- å¸ƒå±€ç»„ä»¶åˆ†ç¦»
- å“åº”å¼è®¾è®¡

---

## ğŸ“‹ å»ºè®®ä¿®å¤æ¸…å•

### å¿…é¡»ä¿®å¤
- [x] ~~å¯¼å…¥è¯­å¥ä½ç½®é”™è¯¯~~ (å·²ä¿®å¤)

### å»ºè®®ä¿®å¤ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
- [ ] æ·»åŠ  `app/error.tsx` å…¨å±€é”™è¯¯å¤„ç†
- [ ] æ·»åŠ  `app/not-found.tsx` 404 é¡µé¢
- [ ] æ·»åŠ  `app/loading.tsx` å…¨å±€åŠ è½½çŠ¶æ€
- [ ] ç»Ÿä¸€é¡µé¢åˆ° `(main)` è·¯ç”±ç»„
- [ ] ç»Ÿä¸€ Header ä½¿ç”¨æ–¹å¼

### å»ºè®®ä¿®å¤ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
- [ ] ä¿®å¤ç±»å‹æ˜ å°„ï¼ˆsnake_case â†” camelCaseï¼‰
- [ ] æ¸…ç†æœªä½¿ç”¨çš„å˜é‡å’Œå¯¼å…¥
- [ ] æ·»åŠ  favicon.ico
- [ ] ç»Ÿä¸€æ ·å¼ç±»åä½¿ç”¨

### ä¼˜åŒ–å»ºè®®ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
- [ ] æ·»åŠ å›½é™…åŒ–æ”¯æŒ
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] æ·»åŠ  E2E æµ‹è¯•
- [ ] ä¼˜åŒ–å›¾ç‰‡åŠ è½½ç­–ç•¥

---

## ğŸš€ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

- [ ] åœ¨ Supabase æ‰§è¡Œ SQL è¿ç§»
- [ ] é…ç½®ç¯å¢ƒå˜é‡
- [ ] æµ‹è¯•æ‰€æœ‰é¡µé¢è·¯ç”±
- [ ] æµ‹è¯•ç™»å½•/æ³¨å†Œæµç¨‹
- [ ] æµ‹è¯•å‘å¸ƒ/å¸®åŠ©åŠŸèƒ½
- [ ] æµ‹è¯•å›¾ç‰‡ä¸Šä¼ 
- [ ] ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•
- [ ] è¿è¡Œ `npm run build` æ£€æŸ¥é”™è¯¯

---

## ğŸ“Š ä»£ç è´¨é‡è¯„åˆ†

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| é¡¹ç›®ç»“æ„ | 9/10 | ç»“æ„æ¸…æ™°ï¼Œç¬¦åˆ Next.js æœ€ä½³å®è·µ |
| ç±»å‹å®‰å…¨ | 8/10 | TypeScript ä½¿ç”¨è‰¯å¥½ï¼Œä½†ç±»å‹æ˜ å°„éœ€ä¼˜åŒ– |
| ä»£ç è§„èŒƒ | 7/10 | å­˜åœ¨å¯¼å…¥ä½ç½®é”™è¯¯ç­‰å°é—®é¢˜ |
| ç»„ä»¶è®¾è®¡ | 8/10 | ç»„ä»¶åŒ–è‰¯å¥½ï¼Œå¤ç”¨æ€§é«˜ |
| é”™è¯¯å¤„ç† | 7/10 | åŸºç¡€é”™è¯¯å¤„ç†å®Œå–„ï¼Œå¯æ·»åŠ å…¨å±€é”™è¯¯è¾¹ç•Œ |
| æ€§èƒ½ä¼˜åŒ– | 6/10 | ç¼ºå°‘å›¾ç‰‡ä¼˜åŒ–ã€æ‡’åŠ è½½ç­‰ |
| **æ€»åˆ†** | **7.5/10** | **è‰¯å¥½ï¼Œå¯éƒ¨ç½²ï¼Œå»ºè®®ä¿®å¤ä¸­ç­‰é—®é¢˜** |

---

## ğŸ’¡ å³æ—¶ä¿®å¤å‘½ä»¤

### ä¿®å¤ç±»å‹æ˜ å°„é—®é¢˜
åœ¨ `lib/utils.ts` ä¸­æ·»åŠ æ˜ å°„å‡½æ•°ï¼š
```typescript
export function mapUserFromDB(dbUser: any) {
  return {
    id: dbUser.id,
    nickName: dbUser.nick_name,
    avatarUrl: dbUser.avatar_url,
    creditScore: dbUser.credit_score,
    // ...
  }
}
```

### åˆ›å»ºç¼ºå¤±çš„é»˜è®¤æ–‡ä»¶

**app/error.tsx**:
```tsx
'use client'

export default function Error({ error, reset }: { error: Error; reset: () => void }) {
  return (
    <div className="min-h-screen flex items-center justify-center">
      <div className="text-center">
        <h2 className="text-2xl font-bold mb-4">å‡ºé”™äº†</h2>
        <p className="text-gray-600 mb-4">{error.message}</p>
        <button onClick={reset} className="px-4 py-2 bg-orange-500 text-white rounded-lg">
          é‡è¯•
        </button>
      </div>
    </div>
  )
}
```

**app/not-found.tsx**:
```tsx
import Link from 'next/link'

export default function NotFound() {
  return (
    <div className="min-h-screen flex items-center justify-center">
      <div className="text-center">
        <h2 className="text-4xl font-bold mb-4">404</h2>
        <p className="text-gray-600 mb-4">é¡µé¢æœªæ‰¾åˆ°</p>
        <Link href="/" className="text-orange-500">
          è¿”å›é¦–é¡µ
        </Link>
      </div>
    </div>
  )
}
```

---

**ç»“è®º**: é¡¹ç›®æ•´ä½“è´¨é‡è‰¯å¥½ï¼Œå·²ä¿®å¤1ä¸ªä¸¥é‡é—®é¢˜ã€‚å»ºè®®éƒ¨ç½²å‰ä¿®å¤ä¸­ç­‰é—®é¢˜ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚